<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>난수를 발생시켜 맞추는 게임</title>
</head>
<body>
    <script>
        var low = 0; // 범위의 최소값
        var high = 0; // 범위의 최고값
        var card = 0; // 정답
        // 게임의 정답을 맞추기 위해서 무한루프를 돌고있다.
        while(true) {
            var count = 0; // 사용자의 시도 횟수
            low = 0;
            high = 99;
            // Math.random() 함수는 0.0에서 0.9의 난수를 발생시킴
            card = Math.floor(Math.random() * 100); // 0~99의 난수발생
            alert("수를 결정했습니다. 맞춰보세요.");

            // 내부 루프의 경우는 정해진 난수를 맞출때까지 실행하는 것
            while(true) {
                var n = 0;
                alert(low + " - " + high);
                count++;
                alert("시도횟수 : " + count);
                
                // 사용자로부터 숫자를 입력받음
                n = prompt("숫자를 입력하세요.");
                n = parseInt(n);

                if(n > high || n < low) {
                    alert("값의 범위를 벗어났습니다.");
                } else { // 정상적인 범위의 수가 입력된 경우
                    if(n == card) {
                        alert("정답입니다. 짝짝짝");
                        break;
                    } else if(n > card) { // 입력된 값이 정답보다 높은 수라면 ..
                        alert("Down!!");
                        high = n; // 범위를 재지정 하기 위해서 값을 대입
                    } else { // 입려된 값이 정답보다 낮은 수라면 ...
                        alert("Up!!");
                        low = n; // 범위를 재지정
                    }
                    
                } 
            }
            alert("시도 횟수는 " + count + "입니다.");   
            var con = confirm("다시 게임을 시작 하시겠습니까?");
            if(con == false) {
                break;
            }
            
        }
    </script>
</body>
</html>